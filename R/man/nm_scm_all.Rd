% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nm_scm.r
\name{nm_scm_all}
\alias{nm_scm_all}
\title{Main function to perform SCM for multiple treatment targets.}
\usage{
nm_scm_all(df, poll_col, code_col, control_pool, cutoff_date, n_cores = NULL)
}
\arguments{
\item{df}{Data frame containing the input data.}

\item{poll_col}{The name of the column containing the pollutant data.}

\item{code_col}{The name of the column containing the unit codes.}

\item{control_pool}{A vector of codes representing the control units.}

\item{cutoff_date}{The date used to split the data into pre-treatment and post-treatment periods.}

\item{n_cores}{Number of CPU cores to use for parallel processing. Default is system's total minus one.}
}
\value{
A data frame with the actual and synthetic control data for all treatment targets.
}
\description{
\code{nm_scm_all} applies the synthetic control method in parallel for multiple treatment targets.
}
\examples{
\dontrun{
library(dplyr)
library(parallel)
df <- data.frame(
  date = Sys.time() + seq(1, 100, by = 1),
  pollutant = rnorm(100),
  unit_code = rep(c("A", "B", "C", "D"), each = 25)
)
result <- nm_scm_all(df, poll_col = "pollutant",
                          code_col = "unit_code", treat_targets = c("A"),
                          control_pool = c("B", "C", "D"), cutoff_date = "2020-01-01",
                          n_cores = 2)
}
}
